<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>DecisionSolver: Include/X3DAudio.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">DecisionSolver
   &#160;<span id="projectnumber">0.1</span>
   </div>
   <div id="projectbrief">DS Engine</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_856524284ebe840938865dc061f982fb.html">Include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">X3DAudio.h</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*-========================================================================-_</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> |                               - X3DAUDIO -                               |</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> |        Copyright (c) Microsoft Corporation.  All rights reserved.        |</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> |~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~|</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> |PROJECT: X3DAudio                     MODEL:   Unmanaged User-mode        |</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> |VERSION: 1.7                          EXCEPT:  No Exceptions              |</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> |CLASS:   N / A                        MINREQ:  WinXP, Xbox360             |</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> |BASE:    N / A                        DIALECT: MSC++ 14.00                |</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> |&gt;------------------------------------------------------------------------&lt;|</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> | DUTY: Cross-platform stand-alone 3D audio math library                   |</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">  NOTES:</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">    1.  USE THE DEBUG DLL TO ENABLE PARAMETER VALIDATION VIA ASSERTS!</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">        Here&#39;s how:</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">        Copy X3DAudioDX_X.dll to where your application exists.</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">        The debug DLL can be found under %WINDIR%\system32.</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">        Rename X3DAudioDX_X.dll to X3DAudioX_X.dll to use the debug version.</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">        Only parameters required by DSP settings being calculated as</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">        stipulated by the calculation control flags are validated.</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">    2.  Definition of terms:</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">            LFE: Low Frequency Effect -- always omnidirectional.</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">            LPF: Low Pass Filter, divided into two classifications:</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="comment">                 Direct -- Applied to the direct signal path,</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">                           used for obstruction/occlusion effects.</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">                 Reverb -- Applied to the reverb signal path,</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">                           used for occlusion effects only.</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment">    3.  Volume level is expressed as a linear amplitude scaler:</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment">        1.0f represents no attenuation applied to the original signal,</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment">        0.5f denotes an attenuation of 6dB, and 0.0f results in silence.</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment">        Amplification (volume &gt; 1.0f) is also allowed, and is not clamped.</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment">        LPF values range from 1.0f representing all frequencies pass through,</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment">        to 0.0f which results in silence as all frequencies are filtered out.</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment">    4.  X3DAudio uses a left-handed Cartesian coordinate system with values</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">        on the x-axis increasing from left to right, on the y-axis from</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment">        bottom to top, and on the z-axis from near to far.</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment">        Azimuths are measured clockwise from a given reference direction.</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment">        Distance measurement is with respect to user-defined world units.</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment">        Applications may provide coordinates using any system of measure</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment">        as all non-normalized calculations are scale invariant, with such</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment">        operations natively occurring in user-defined world unit space.</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment">        Metric constants are supplied only as a convenience.</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment">        Distance is calculated using the Euclidean norm formula.</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment">    5.  Only real values are permissible with functions using 32-bit</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment">        float parameters -- NAN and infinite values are not accepted.</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment">        All computation occurs in 32-bit precision mode.                    */</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="preprocessor">#pragma once</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment">//--------------&lt;D-E-F-I-N-I-T-I-O-N-S&gt;-------------------------------------//</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="preprocessor">#include &lt;windef.h&gt;</span>    <span class="comment">// general windows types</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="preprocessor">#if defined(_XBOX)</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="preprocessor">    #include &lt;vectorintrinsics.h&gt;</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="preprocessor">#include &lt;d3d9types.h&gt;</span> <span class="comment">// for D3DVECTOR</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="comment">// speaker geometry configuration flags, specifies assignment of channels to speaker positions, defined as per WAVEFORMATEXTENSIBLE.dwChannelMask</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="preprocessor">#if !defined(_SPEAKER_POSITIONS_)</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="preprocessor">    #define _SPEAKER_POSITIONS_</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="preprocessor">    #define SPEAKER_FRONT_LEFT            0x00000001</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="preprocessor">    #define SPEAKER_FRONT_RIGHT           0x00000002</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="preprocessor">    #define SPEAKER_FRONT_CENTER          0x00000004</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="preprocessor">    #define SPEAKER_LOW_FREQUENCY         0x00000008</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="preprocessor">    #define SPEAKER_BACK_LEFT             0x00000010</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="preprocessor">    #define SPEAKER_BACK_RIGHT            0x00000020</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="preprocessor">    #define SPEAKER_FRONT_LEFT_OF_CENTER  0x00000040</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="preprocessor">    #define SPEAKER_FRONT_RIGHT_OF_CENTER 0x00000080</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="preprocessor">    #define SPEAKER_BACK_CENTER           0x00000100</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="preprocessor">    #define SPEAKER_SIDE_LEFT             0x00000200</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="preprocessor">    #define SPEAKER_SIDE_RIGHT            0x00000400</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="preprocessor">    #define SPEAKER_TOP_CENTER            0x00000800</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="preprocessor">    #define SPEAKER_TOP_FRONT_LEFT        0x00001000</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="preprocessor">    #define SPEAKER_TOP_FRONT_CENTER      0x00002000</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="preprocessor">    #define SPEAKER_TOP_FRONT_RIGHT       0x00004000</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="preprocessor">    #define SPEAKER_TOP_BACK_LEFT         0x00008000</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="preprocessor">    #define SPEAKER_TOP_BACK_CENTER       0x00010000</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="preprocessor">    #define SPEAKER_TOP_BACK_RIGHT        0x00020000</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="preprocessor">    #define SPEAKER_RESERVED              0x7FFC0000 // bit mask locations reserved for future use</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="preprocessor">    #define SPEAKER_ALL                   0x80000000 // used to specify that any possible permutation of speaker configurations</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment">// standard speaker geometry configurations, used with X3DAudioInitialize</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="preprocessor">#if !defined(SPEAKER_MONO)</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="preprocessor">    #define SPEAKER_MONO             SPEAKER_FRONT_CENTER</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="preprocessor">    #define SPEAKER_STEREO           (SPEAKER_FRONT_LEFT | SPEAKER_FRONT_RIGHT)</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="preprocessor">    #define SPEAKER_2POINT1          (SPEAKER_FRONT_LEFT | SPEAKER_FRONT_RIGHT | SPEAKER_LOW_FREQUENCY)</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="preprocessor">    #define SPEAKER_SURROUND         (SPEAKER_FRONT_LEFT | SPEAKER_FRONT_RIGHT | SPEAKER_FRONT_CENTER | SPEAKER_BACK_CENTER)</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="preprocessor">    #define SPEAKER_QUAD             (SPEAKER_FRONT_LEFT | SPEAKER_FRONT_RIGHT | SPEAKER_BACK_LEFT | SPEAKER_BACK_RIGHT)</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="preprocessor">    #define SPEAKER_4POINT1          (SPEAKER_FRONT_LEFT | SPEAKER_FRONT_RIGHT | SPEAKER_LOW_FREQUENCY | SPEAKER_BACK_LEFT | SPEAKER_BACK_RIGHT)</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="preprocessor">    #define SPEAKER_5POINT1          (SPEAKER_FRONT_LEFT | SPEAKER_FRONT_RIGHT | SPEAKER_FRONT_CENTER | SPEAKER_LOW_FREQUENCY | SPEAKER_BACK_LEFT | SPEAKER_BACK_RIGHT)</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="preprocessor">    #define SPEAKER_7POINT1          (SPEAKER_FRONT_LEFT | SPEAKER_FRONT_RIGHT | SPEAKER_FRONT_CENTER | SPEAKER_LOW_FREQUENCY | SPEAKER_BACK_LEFT | SPEAKER_BACK_RIGHT | SPEAKER_FRONT_LEFT_OF_CENTER | SPEAKER_FRONT_RIGHT_OF_CENTER)</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="preprocessor">    #define SPEAKER_5POINT1_SURROUND (SPEAKER_FRONT_LEFT | SPEAKER_FRONT_RIGHT | SPEAKER_FRONT_CENTER | SPEAKER_LOW_FREQUENCY | SPEAKER_SIDE_LEFT  | SPEAKER_SIDE_RIGHT)</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="preprocessor">    #define SPEAKER_7POINT1_SURROUND (SPEAKER_FRONT_LEFT | SPEAKER_FRONT_RIGHT | SPEAKER_FRONT_CENTER | SPEAKER_LOW_FREQUENCY | SPEAKER_BACK_LEFT | SPEAKER_BACK_RIGHT | SPEAKER_SIDE_LEFT  | SPEAKER_SIDE_RIGHT)</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="comment">// Xbox360 speaker geometry configuration, used with X3DAudioInitialize</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="preprocessor">#if defined(_XBOX)</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="preprocessor">    #define SPEAKER_XBOX SPEAKER_5POINT1</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="comment">// size of instance handle in bytes</span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="preprocessor">#define X3DAUDIO_HANDLE_BYTESIZE 20</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="comment">// float math constants</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="preprocessor">#define X3DAUDIO_PI  3.141592654f</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<span class="preprocessor">#define X3DAUDIO_2PI 6.283185307f</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;<span class="comment">// speed of sound in meters per second for dry air at approximately 20C, used with X3DAudioInitialize</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="preprocessor">#define X3DAUDIO_SPEED_OF_SOUND 343.5f</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="comment">// calculation control flags, used with X3DAudioCalculate</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="preprocessor">#define X3DAUDIO_CALCULATE_MATRIX          0x00000001 // enable matrix coefficient table calculation</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="preprocessor">#define X3DAUDIO_CALCULATE_DELAY           0x00000002 // enable delay time array calculation (stereo final mix only)</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="preprocessor">#define X3DAUDIO_CALCULATE_LPF_DIRECT      0x00000004 // enable LPF direct-path coefficient calculation</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="preprocessor">#define X3DAUDIO_CALCULATE_LPF_REVERB      0x00000008 // enable LPF reverb-path coefficient calculation</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="preprocessor">#define X3DAUDIO_CALCULATE_REVERB          0x00000010 // enable reverb send level calculation</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="preprocessor">#define X3DAUDIO_CALCULATE_DOPPLER         0x00000020 // enable doppler shift factor calculation</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="preprocessor">#define X3DAUDIO_CALCULATE_EMITTER_ANGLE   0x00000040 // enable emitter-to-listener interior angle calculation</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="preprocessor">#define X3DAUDIO_CALCULATE_ZEROCENTER      0x00010000 // do not position to front center speaker, signal positioned to remaining speakers instead, front center destination channel will be zero in returned matrix coefficient table, valid only for matrix calculations with final mix formats that have a front center channel</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="preprocessor">#define X3DAUDIO_CALCULATE_REDIRECT_TO_LFE 0x00020000 // apply equal mix of all source channels to LFE destination channel, valid only for matrix calculations with sources that have no LFE channel and final mix formats that have an LFE channel</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="comment">//--------------&lt;D-A-T-A---T-Y-P-E-S&gt;---------------------------------------//</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="preprocessor">#pragma pack(push, 1) // set packing alignment to ensure consistency across arbitrary build environments</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment">// primitive types</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="keyword">typedef</span> <span class="keywordtype">float</span> FLOAT32; <span class="comment">// 32-bit IEEE float</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="keyword">typedef</span> D3DVECTOR X3DAUDIO_VECTOR; <span class="comment">// float 3D vector</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="comment">// instance handle of precalculated constants</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="keyword">typedef</span> BYTE X3DAUDIO_HANDLE[X3DAUDIO_HANDLE_BYTESIZE];</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="comment">// Distance curve point:</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="comment">// Defines a DSP setting at a given normalized distance.</span></div>
<div class="line"><a name="l00144"></a><span class="lineno"><a class="line" href="struct_x3_d_a_u_d_i_o___d_i_s_t_a_n_c_e___c_u_r_v_e___p_o_i_n_t.html">  144</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_x3_d_a_u_d_i_o___d_i_s_t_a_n_c_e___c_u_r_v_e___p_o_i_n_t.html">X3DAUDIO_DISTANCE_CURVE_POINT</a></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;{</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    FLOAT32 Distance;   <span class="comment">// normalized distance, must be within [0.0f, 1.0f]</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    FLOAT32 DSPSetting; <span class="comment">// DSP setting</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;} <a class="code" href="struct_x3_d_a_u_d_i_o___d_i_s_t_a_n_c_e___c_u_r_v_e___p_o_i_n_t.html">X3DAUDIO_DISTANCE_CURVE_POINT</a>, *<a class="code" href="struct_x3_d_a_u_d_i_o___d_i_s_t_a_n_c_e___c_u_r_v_e___p_o_i_n_t.html">LPX3DAUDIO_DISTANCE_CURVE_POINT</a>;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="comment">// Distance curve:</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="comment">// A piecewise curve made up of linear segments used to</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="comment">// define DSP behaviour with respect to normalized distance.</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="comment">// Note that curve point distances are normalized within [0.0f, 1.0f].</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="comment">// X3DAUDIO_EMITTER.CurveDistanceScaler must be used to scale the</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="comment">// normalized distances to user-defined world units.</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="comment">// For distances beyond CurveDistanceScaler * 1.0f,</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="comment">// pPoints[PointCount-1].DSPSetting is used as the DSP setting.</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="comment">// All distance curve spans must be such that:</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;<span class="comment">//      pPoints[k-1].DSPSetting + ((pPoints[k].DSPSetting-pPoints[k-1].DSPSetting) / (pPoints[k].Distance-pPoints[k-1].Distance)) * (pPoints[k].Distance-pPoints[k-1].Distance) != NAN or infinite values</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="comment">// For all points in the distance curve where 1 &lt;= k &lt; PointCount.</span></div>
<div class="line"><a name="l00163"></a><span class="lineno"><a class="line" href="struct_x3_d_a_u_d_i_o___d_i_s_t_a_n_c_e___c_u_r_v_e.html">  163</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_x3_d_a_u_d_i_o___d_i_s_t_a_n_c_e___c_u_r_v_e.html">X3DAUDIO_DISTANCE_CURVE</a></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;{</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <a class="code" href="struct_x3_d_a_u_d_i_o___d_i_s_t_a_n_c_e___c_u_r_v_e___p_o_i_n_t.html">X3DAUDIO_DISTANCE_CURVE_POINT</a>* pPoints;    <span class="comment">// distance curve point array, must have at least PointCount elements with no duplicates and be sorted in ascending order with respect to Distance</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    UINT32                         PointCount; <span class="comment">// number of distance curve points, must be &gt;= 2 as all distance curves must have at least two endpoints, defining DSP settings at 0.0f and 1.0f normalized distance</span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;} <a class="code" href="struct_x3_d_a_u_d_i_o___d_i_s_t_a_n_c_e___c_u_r_v_e.html">X3DAUDIO_DISTANCE_CURVE</a>, *<a class="code" href="struct_x3_d_a_u_d_i_o___d_i_s_t_a_n_c_e___c_u_r_v_e.html">LPX3DAUDIO_DISTANCE_CURVE</a>;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="struct_x3_d_a_u_d_i_o___d_i_s_t_a_n_c_e___c_u_r_v_e___p_o_i_n_t.html">X3DAUDIO_DISTANCE_CURVE_POINT</a> X3DAudioDefault_LinearCurvePoints[2] = { 0.0f, 1.0f, 1.0f, 0.0f };</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="struct_x3_d_a_u_d_i_o___d_i_s_t_a_n_c_e___c_u_r_v_e.html">X3DAUDIO_DISTANCE_CURVE</a>       X3DAudioDefault_LinearCurve          = { (<a class="code" href="struct_x3_d_a_u_d_i_o___d_i_s_t_a_n_c_e___c_u_r_v_e___p_o_i_n_t.html">X3DAUDIO_DISTANCE_CURVE_POINT</a>*)&amp;X3DAudioDefault_LinearCurvePoints[0], 2 };</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="comment">// Cone:</span></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="comment">// Specifies directionality for a listener or single-channel emitter by</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;<span class="comment">// modifying DSP behaviour with respect to its front orientation.</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;<span class="comment">// This is modeled using two sound cones: an inner cone and an outer cone.</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="comment">// On/within the inner cone, DSP settings are scaled by the inner values.</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="comment">// On/beyond the outer cone, DSP settings are scaled by the outer values.</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="comment">// If on both the cones, DSP settings are scaled by the inner values only.</span></div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<span class="comment">// Between the two cones, the scaler is linearly interpolated between the</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="comment">// inner and outer values.  Set both cone angles to 0 or X3DAUDIO_2PI for</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="comment">// omnidirectionality using only the outer or inner values respectively.</span></div>
<div class="line"><a name="l00181"></a><span class="lineno"><a class="line" href="struct_x3_d_a_u_d_i_o___c_o_n_e.html">  181</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_x3_d_a_u_d_i_o___c_o_n_e.html">X3DAUDIO_CONE</a></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;{</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    FLOAT32 InnerAngle; <span class="comment">// inner cone angle in radians, must be within [0.0f, X3DAUDIO_2PI]</span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    FLOAT32 OuterAngle; <span class="comment">// outer cone angle in radians, must be within [InnerAngle, X3DAUDIO_2PI]</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    FLOAT32 InnerVolume; <span class="comment">// volume level scaler on/within inner cone, used only for matrix calculations, must be within [0.0f, 2.0f] when used</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    FLOAT32 OuterVolume; <span class="comment">// volume level scaler on/beyond outer cone, used only for matrix calculations, must be within [0.0f, 2.0f] when used</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    FLOAT32 InnerLPF;    <span class="comment">// LPF (both direct and reverb paths) coefficient subtrahend on/within inner cone, used only for LPF (both direct and reverb paths) calculations, must be within [0.0f, 1.0f] when used</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    FLOAT32 OuterLPF;    <span class="comment">// LPF (both direct and reverb paths) coefficient subtrahend on/beyond outer cone, used only for LPF (both direct and reverb paths) calculations, must be within [0.0f, 1.0f] when used</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    FLOAT32 InnerReverb; <span class="comment">// reverb send level scaler on/within inner cone, used only for reverb calculations, must be within [0.0f, 2.0f] when used</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    FLOAT32 OuterReverb; <span class="comment">// reverb send level scaler on/beyond outer cone, used only for reverb calculations, must be within [0.0f, 2.0f] when used</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;} <a class="code" href="struct_x3_d_a_u_d_i_o___c_o_n_e.html">X3DAUDIO_CONE</a>, *<a class="code" href="struct_x3_d_a_u_d_i_o___c_o_n_e.html">LPX3DAUDIO_CONE</a>;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="struct_x3_d_a_u_d_i_o___c_o_n_e.html">X3DAUDIO_CONE</a> X3DAudioDefault_DirectionalCone = { X3DAUDIO_PI/2, X3DAUDIO_PI, 1.0f, 0.708f, 0.0f, 0.25f, 0.708f, 1.0f };</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="comment">// Listener:</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="comment">// Defines a point of 3D audio reception.</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="comment">// The cone is directed by the listener&#39;s front orientation.</span></div>
<div class="line"><a name="l00200"></a><span class="lineno"><a class="line" href="struct_x3_d_a_u_d_i_o___l_i_s_t_e_n_e_r.html">  200</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_x3_d_a_u_d_i_o___l_i_s_t_e_n_e_r.html">X3DAUDIO_LISTENER</a></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;{</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    X3DAUDIO_VECTOR OrientFront; <span class="comment">// orientation of front direction, used only for matrix and delay calculations or listeners with cones for matrix, LPF (both direct and reverb paths), and reverb calculations, must be normalized when used</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    X3DAUDIO_VECTOR OrientTop;   <span class="comment">// orientation of top direction, used only for matrix and delay calculations, must be orthonormal with OrientFront when used</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    X3DAUDIO_VECTOR Position; <span class="comment">// position in user-defined world units, does not affect Velocity</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    X3DAUDIO_VECTOR Velocity; <span class="comment">// velocity vector in user-defined world units/second, used only for doppler calculations, does not affect Position</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <a class="code" href="struct_x3_d_a_u_d_i_o___c_o_n_e.html">X3DAUDIO_CONE</a>* pCone; <span class="comment">// sound cone, used only for matrix, LPF (both direct and reverb paths), and reverb calculations, NULL specifies omnidirectionality</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;} <a class="code" href="struct_x3_d_a_u_d_i_o___l_i_s_t_e_n_e_r.html">X3DAUDIO_LISTENER</a>, *<a class="code" href="struct_x3_d_a_u_d_i_o___l_i_s_t_e_n_e_r.html">LPX3DAUDIO_LISTENER</a>;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="comment">// Emitter:</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<span class="comment">// Defines a 3D audio source, divided into two classifications:</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="comment">// Single-point -- For use with single-channel sounds.</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="comment">//                 Positioned at the emitter base, i.e. the channel radius</span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="comment">//                 and azimuth are ignored if the number of channels == 1.</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="comment">//                 May be omnidirectional or directional using a cone.</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<span class="comment">//                 The cone originates from the emitter base position,</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<span class="comment">//                 and is directed by the emitter&#39;s front orientation.</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<span class="comment">// Multi-point  -- For use with multi-channel sounds.</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="comment">//                 Each non-LFE channel is positioned using an</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;<span class="comment">//                 azimuth along the channel radius with respect to the</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;<span class="comment">//                 front orientation vector in the plane orthogonal to the</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="comment">//                 top orientation vector.  An azimuth of X3DAUDIO_2PI</span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="comment">//                 specifies a channel is an LFE.  Such channels are</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<span class="comment">//                 positioned at the emitter base and are calculated</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="comment">//                 with respect to pLFECurve only, never pVolumeCurve.</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="comment">//                 Multi-point emitters are always omnidirectional,</span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="comment">//                 i.e. the cone is ignored if the number of channels &gt; 1.</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="comment">// Note that many properties are shared among all channel points,</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="comment">// locking certain behaviour with respect to the emitter base position.</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="comment">// For example, doppler shift is always calculated with respect to the</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="comment">// emitter base position and so is constant for all its channel points.</span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="comment">// Distance curve calculations are also with respect to the emitter base</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;<span class="comment">// position, with the curves being calculated independently of each other.</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<span class="comment">// For instance, volume and LFE calculations do not affect one another.</span></div>
<div class="line"><a name="l00241"></a><span class="lineno"><a class="line" href="struct_x3_d_a_u_d_i_o___e_m_i_t_t_e_r.html">  241</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_x3_d_a_u_d_i_o___e_m_i_t_t_e_r.html">X3DAUDIO_EMITTER</a></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;{</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <a class="code" href="struct_x3_d_a_u_d_i_o___c_o_n_e.html">X3DAUDIO_CONE</a>* pCone; <span class="comment">// sound cone, used only with single-channel emitters for matrix, LPF (both direct and reverb paths), and reverb calculations, NULL specifies omnidirectionality</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    X3DAUDIO_VECTOR OrientFront; <span class="comment">// orientation of front direction, used only for emitter angle calculations or with multi-channel emitters for matrix calculations or single-channel emitters with cones for matrix, LPF (both direct and reverb paths), and reverb calculations, must be normalized when used</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    X3DAUDIO_VECTOR OrientTop;   <span class="comment">// orientation of top direction, used only with multi-channel emitters for matrix calculations, must be orthonormal with OrientFront when used</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    X3DAUDIO_VECTOR Position; <span class="comment">// position in user-defined world units, does not affect Velocity</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    X3DAUDIO_VECTOR Velocity; <span class="comment">// velocity vector in user-defined world units/second, used only for doppler calculations, does not affect Position</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    FLOAT32 InnerRadius;      <span class="comment">// inner radius, must be within [0.0f, FLT_MAX]</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    FLOAT32 InnerRadiusAngle; <span class="comment">// inner radius angle, must be within [0.0f, X3DAUDIO_PI/4.0)</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    UINT32 ChannelCount;       <span class="comment">// number of sound channels, must be &gt; 0</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    FLOAT32 ChannelRadius;     <span class="comment">// channel radius, used only with multi-channel emitters for matrix calculations, must be &gt;= 0.0f when used</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    FLOAT32* pChannelAzimuths; <span class="comment">// channel azimuth array, used only with multi-channel emitters for matrix calculations, contains positions of each channel expressed in radians along the channel radius with respect to the front orientation vector in the plane orthogonal to the top orientation vector, or X3DAUDIO_2PI to specify an LFE channel, must have at least ChannelCount elements, all within [0.0f, X3DAUDIO_2PI] when used</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <a class="code" href="struct_x3_d_a_u_d_i_o___d_i_s_t_a_n_c_e___c_u_r_v_e.html">X3DAUDIO_DISTANCE_CURVE</a>* pVolumeCurve;    <span class="comment">// volume level distance curve, used only for matrix calculations, NULL specifies a default curve that conforms to the inverse square law, calculated in user-defined world units with distances &lt;= CurveDistanceScaler clamped to no attenuation</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <a class="code" href="struct_x3_d_a_u_d_i_o___d_i_s_t_a_n_c_e___c_u_r_v_e.html">X3DAUDIO_DISTANCE_CURVE</a>* pLFECurve;       <span class="comment">// LFE level distance curve, used only for matrix calculations, NULL specifies a default curve that conforms to the inverse square law, calculated in user-defined world units with distances &lt;= CurveDistanceScaler clamped to no attenuation</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <a class="code" href="struct_x3_d_a_u_d_i_o___d_i_s_t_a_n_c_e___c_u_r_v_e.html">X3DAUDIO_DISTANCE_CURVE</a>* pLPFDirectCurve; <span class="comment">// LPF direct-path coefficient distance curve, used only for LPF direct-path calculations, NULL specifies the default curve: [0.0f,1.0f], [1.0f,0.75f]</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <a class="code" href="struct_x3_d_a_u_d_i_o___d_i_s_t_a_n_c_e___c_u_r_v_e.html">X3DAUDIO_DISTANCE_CURVE</a>* pLPFReverbCurve; <span class="comment">// LPF reverb-path coefficient distance curve, used only for LPF reverb-path calculations, NULL specifies the default curve: [0.0f,0.75f], [1.0f,0.75f]</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <a class="code" href="struct_x3_d_a_u_d_i_o___d_i_s_t_a_n_c_e___c_u_r_v_e.html">X3DAUDIO_DISTANCE_CURVE</a>* pReverbCurve;    <span class="comment">// reverb send level distance curve, used only for reverb calculations, NULL specifies the default curve: [0.0f,1.0f], [1.0f,0.0f]</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    FLOAT32 CurveDistanceScaler; <span class="comment">// curve distance scaler, used to scale normalized distance curves to user-defined world units and/or exaggerate their effect, used only for matrix, LPF (both direct and reverb paths), and reverb calculations, must be within [FLT_MIN, FLT_MAX] when used</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    FLOAT32 DopplerScaler;       <span class="comment">// doppler shift scaler, used to exaggerate doppler shift effect, used only for doppler calculations, must be within [0.0f, FLT_MAX] when used</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;} <a class="code" href="struct_x3_d_a_u_d_i_o___e_m_i_t_t_e_r.html">X3DAUDIO_EMITTER</a>, *<a class="code" href="struct_x3_d_a_u_d_i_o___e_m_i_t_t_e_r.html">LPX3DAUDIO_EMITTER</a>;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="comment">// DSP settings:</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="comment">// Receives results from a call to X3DAudioCalculate to be sent</span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;<span class="comment">// to the low-level audio rendering API for 3D signal processing.</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="comment">// The user is responsible for allocating the matrix coefficient table,</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<span class="comment">// delay time array, and initializing the channel counts when used.</span></div>
<div class="line"><a name="l00274"></a><span class="lineno"><a class="line" href="struct_x3_d_a_u_d_i_o___d_s_p___s_e_t_t_i_n_g_s.html">  274</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="struct_x3_d_a_u_d_i_o___d_s_p___s_e_t_t_i_n_g_s.html">X3DAUDIO_DSP_SETTINGS</a></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;{</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    FLOAT32* pMatrixCoefficients; <span class="comment">// [inout] matrix coefficient table, receives an array representing the volume level used to send from source channel S to destination channel D, stored as pMatrixCoefficients[SrcChannelCount * D + S], must have at least SrcChannelCount*DstChannelCount elements</span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    FLOAT32* pDelayTimes;         <span class="comment">// [inout] delay time array, receives delays for each destination channel in milliseconds, must have at least DstChannelCount elements (stereo final mix only)</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    UINT32 SrcChannelCount;       <span class="comment">// [in] number of source channels, must equal number of channels in respective emitter</span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    UINT32 DstChannelCount;       <span class="comment">// [in] number of destination channels, must equal number of channels of the final mix</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    FLOAT32 LPFDirectCoefficient; <span class="comment">// [out] LPF direct-path coefficient</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    FLOAT32 LPFReverbCoefficient; <span class="comment">// [out] LPF reverb-path coefficient</span></div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    FLOAT32 ReverbLevel; <span class="comment">// [out] reverb send level</span></div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    FLOAT32 DopplerFactor; <span class="comment">// [out] doppler shift factor, scales resampler ratio for doppler shift effect, where the effective frequency = DopplerFactor * original frequency</span></div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    FLOAT32 EmitterToListenerAngle; <span class="comment">// [out] emitter-to-listener interior angle, expressed in radians with respect to the emitter&#39;s front orientation</span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    FLOAT32 EmitterToListenerDistance; <span class="comment">// [out] distance in user-defined world units from the emitter base to listener position, always calculated</span></div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    FLOAT32 EmitterVelocityComponent; <span class="comment">// [out] component of emitter velocity vector projected onto emitter-&gt;listener vector in user-defined world units/second, calculated only for doppler</span></div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    FLOAT32 ListenerVelocityComponent; <span class="comment">// [out] component of listener velocity vector projected onto emitter-&gt;listener vector in user-defined world units/second, calculated only for doppler</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;} <a class="code" href="struct_x3_d_a_u_d_i_o___d_s_p___s_e_t_t_i_n_g_s.html">X3DAUDIO_DSP_SETTINGS</a>, *<a class="code" href="struct_x3_d_a_u_d_i_o___d_s_p___s_e_t_t_i_n_g_s.html">LPX3DAUDIO_DSP_SETTINGS</a>;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;<span class="comment">//--------------&lt;M-A-C-R-O-S&gt;-----------------------------------------------//</span></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;<span class="comment">// function storage-class attribute and calltype</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;<span class="preprocessor">#if defined(_XBOX) || defined(X3DAUDIOSTATIC)</span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;<span class="preprocessor">    #define X3DAUDIO_API_(type) EXTERN_C type STDAPIVCALLTYPE</span></div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;<span class="preprocessor">    #if defined(X3DEXPORT)</span></div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;<span class="preprocessor">        #define X3DAUDIO_API_(type) EXTERN_C __declspec(dllexport) type STDAPIVCALLTYPE</span></div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;<span class="preprocessor">    #else</span></div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;<span class="preprocessor">        #define X3DAUDIO_API_(type) EXTERN_C __declspec(dllimport) type STDAPIVCALLTYPE</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;<span class="preprocessor">    #endif</span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<span class="preprocessor">#define X3DAUDIO_IMP_(type) type STDMETHODVCALLTYPE</span></div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;<span class="comment">//--------------&lt;F-U-N-C-T-I-O-N-S&gt;-----------------------------------------//</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="comment">// initializes instance handle</span></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;X3DAUDIO_API_(<span class="keywordtype">void</span>) X3DAudioInitialize (UINT32 SpeakerChannelMask, FLOAT32 SpeedOfSound, __out X3DAUDIO_HANDLE Instance);</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;<span class="comment">// calculates DSP settings with respect to 3D parameters</span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;X3DAUDIO_API_(<span class="keywordtype">void</span>) X3DAudioCalculate (__in const X3DAUDIO_HANDLE Instance, __in const <a class="code" href="struct_x3_d_a_u_d_i_o___l_i_s_t_e_n_e_r.html">X3DAUDIO_LISTENER</a>* pListener, __in const <a class="code" href="struct_x3_d_a_u_d_i_o___e_m_i_t_t_e_r.html">X3DAUDIO_EMITTER</a>* pEmitter, UINT32 Flags, __inout <a class="code" href="struct_x3_d_a_u_d_i_o___d_s_p___s_e_t_t_i_n_g_s.html">X3DAUDIO_DSP_SETTINGS</a>* pDSPSettings);</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;<span class="preprocessor">#pragma pack(pop) // revert packing alignment</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<span class="comment">//---------------------------------&lt;-EOF-&gt;----------------------------------//</span></div>
<div class="ttc" id="struct_x3_d_a_u_d_i_o___d_s_p___s_e_t_t_i_n_g_s_html"><div class="ttname"><a href="struct_x3_d_a_u_d_i_o___d_s_p___s_e_t_t_i_n_g_s.html">X3DAUDIO_DSP_SETTINGS</a></div><div class="ttdef"><b>Definition:</b> X3DAudio.h:274</div></div>
<div class="ttc" id="struct_x3_d_a_u_d_i_o___d_i_s_t_a_n_c_e___c_u_r_v_e___p_o_i_n_t_html"><div class="ttname"><a href="struct_x3_d_a_u_d_i_o___d_i_s_t_a_n_c_e___c_u_r_v_e___p_o_i_n_t.html">X3DAUDIO_DISTANCE_CURVE_POINT</a></div><div class="ttdef"><b>Definition:</b> X3DAudio.h:144</div></div>
<div class="ttc" id="struct_x3_d_a_u_d_i_o___c_o_n_e_html"><div class="ttname"><a href="struct_x3_d_a_u_d_i_o___c_o_n_e.html">X3DAUDIO_CONE</a></div><div class="ttdef"><b>Definition:</b> X3DAudio.h:181</div></div>
<div class="ttc" id="struct_x3_d_a_u_d_i_o___l_i_s_t_e_n_e_r_html"><div class="ttname"><a href="struct_x3_d_a_u_d_i_o___l_i_s_t_e_n_e_r.html">X3DAUDIO_LISTENER</a></div><div class="ttdef"><b>Definition:</b> X3DAudio.h:200</div></div>
<div class="ttc" id="struct_x3_d_a_u_d_i_o___e_m_i_t_t_e_r_html"><div class="ttname"><a href="struct_x3_d_a_u_d_i_o___e_m_i_t_t_e_r.html">X3DAUDIO_EMITTER</a></div><div class="ttdef"><b>Definition:</b> X3DAudio.h:241</div></div>
<div class="ttc" id="struct_x3_d_a_u_d_i_o___d_i_s_t_a_n_c_e___c_u_r_v_e_html"><div class="ttname"><a href="struct_x3_d_a_u_d_i_o___d_i_s_t_a_n_c_e___c_u_r_v_e.html">X3DAUDIO_DISTANCE_CURVE</a></div><div class="ttdef"><b>Definition:</b> X3DAudio.h:163</div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Feb 17 2020 18:46:24 for DecisionSolver by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
